(this["webpackJsonpreact-kamas"]=this["webpackJsonpreact-kamas"]||[]).push([[5],{424:function(e,t,n){"use strict";n.r(t);var a=n(77),r=n(157),c=n(0),l=n.n(c),u=new WebSocket("wss://social-network.samuraijs.com/handlers/ChatHandler.ashx"),s=function(){return l.a.createElement("div",null,l.a.createElement(i,null),l.a.createElement(o,null))},i=function(){var e=Object(c.useState)([]),t=Object(r.a)(e,2),n=t[0],s=t[1];return Object(c.useEffect)((function(){u.addEventListener("message",(function(e){var t=JSON.parse(e.data);s((function(e){return[].concat(Object(a.a)(e),Object(a.a)(t))}))}))}),[]),l.a.createElement("div",null,n.map((function(e,t){return l.a.createElement(m,{key:t,message:e})})))},m=function(e){var t=e.message;return l.a.createElement("div",null,l.a.createElement("img",{src:t.photo,style:{width:"30px"},alt:""})," ",l.a.createElement("b",null,t.userName),l.a.createElement("br",null),t.message,l.a.createElement("hr",null))},o=function(){var e=Object(c.useState)(""),t=Object(r.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)("pending"),i=Object(r.a)(s,2),m=i[0],o=i[1];Object(c.useEffect)((function(){u.addEventListener("open",(function(){o("ready")}))}),[]);return l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("textarea",{onChange:function(e){return a(e.currentTarget.value)},value:n})),l.a.createElement("div",null,l.a.createElement("button",{disabled:"ready"!==m,onClick:function(){n&&(u.send(n),a(""))}},"Send")))};t.default=function(){return l.a.createElement("div",null,l.a.createElement(s,null))}}}]);
//# sourceMappingURL=5.0ddc376b.chunk.js.map