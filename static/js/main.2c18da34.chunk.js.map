{"version":3,"sources":["Forms/input.module.css","components/Users/Paginator.module.css","api/api.ts","api/profile-api.ts","Redux/profile_reducer.ts","assets/images/user.png","Redux/dialogs_reducer.ts","common/Preloader/Preloader.module.css","api/auth-api.ts","api/security-api.ts","Redux/auth_reducer.ts","Redux/app_reducer.ts","components/Music/Music.js","components/News/News.js","components/Settings/Settings.js","components/Users/Paginator.tsx","components/Users/User.tsx","components/Users/UsersSearchForm.tsx","api/users-api.ts","Redux/users_reducer.ts","Redux/users-selectors.ts","components/Users/Users.tsx","components/Users/UsersContainer.tsx","Redux/auth-selectors.ts","components/Header/Header.tsx","components/Login/Login.tsx","hoc/withSuspense.tsx","App.tsx","serviceWorker.js","Redux/sidebar_reducer.ts","Redux/redux-store.tsx","index.js","components/Users/Users.module.css","assets/images/spinner.svg","common/Preloader/Preloader.js","Forms/Input.tsx","Utils/validators.ts"],"names":["module","exports","ResultCodeEnam","ResultCodeForCaptcha","instance","axios","create","withCredentials","baseURL","headers","profileAPI","userId","get","then","response","data","status","put","photoFile","formData","FormData","append","profile","initialState","postData","id","message","like","newPostBody","actions","addPostActionCreator","type","setUserProfile","setUserStatus","setPhotoSuccess","photos","deletePost","postId","getUserProfile","dispatch","a","getUserStatus","updateStatus","resultCode","Succes","savePhoto","saveProfile","getState","auth","stopSubmit","_error","messages","Promise","reject","profileReducer","state","action","filter","p","dialogsData","name","ava","messagesData","dialogsReducer","newMessageText","sendMessageCreator","authAPI","email","password","rememberMe","captcha","post","delete","securityAPI","login","isAuth","captchaUrl","payload","getAuthUsersData","getCaptcha","url","authReducer","INITIALISED_SUCCESS","initialized","appReducer","Music","News","Settings","Paginator","totalUsersCount","pageSise","currentPage","onPageChanged","portionsSise","pagesCount","Math","ceil","pages","i","push","portionsCount","useState","portionNumber","setPortionNumber","leftPortionNumber","rightPortionNumber","className","cl","paginator","onClick","map","cn","selectedPage","pageNumber","key","e","User","user","followingInProgress","unfollowUser","followUser","wrapper","avaFollow","to","src","small","userPfoto","alt","followed","disabled","some","btn","content","nameStatus","location","city","country","UsersSearchFormValidates","value","UsersSearchForm","props","useSelector","usersPage","enableReinitialize","initialValues","term","friend","String","validate","onSubmit","values","setSubmitting","onFilterChanged","isSubmitting","as","userAPI","usId","users","isFetching","getAllUsers","items","totalCount","usersReducer","u","getUsersSelector","getPageSize","createSelector","gettotalUsersCount","getCurrentPage","getFollowingInProgress","getUsersFilter","Users","React","memo","history","useHistory","useDispatch","useEffect","parsed","queryString","search","substr","actualPage","actualFilter","page","Number","query","pathname","followUsers","unfollowUsers","us","UsersPage","Preloader","selectIsAuth","selectLogin","Header","Layout","span","theme","mode","defaultSelectedKeys","Item","style","backgroundColor","icon","UserOutlined","LoginReduxForm","reduxForm","form","handleSubmit","error","Field","placeholder","component","Input","required","formErrorSummary","connect","CaptchaIsRequired","length","withSuspense","Component","Suspense","fallback","ProfileContainer","lazy","DialogsContainer","ChatPage","SuspendedDialogs","SuspendedProfile","SuspendedChatPage","App","this","initializeApp","SubMenu","Menu","Content","Sider","width","defaultOpenKeys","height","borderRight","title","padding","margin","minHeight","exact","path","render","app","promise","all","Boolean","window","hostname","match","sidebar","reducers","combineReducers","profilePage","messagesPage","formReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","__store","ReactDOM","document","getElementById","spinner","FormControl","input","meta","child","hasError","touched","form_control","children","TextArea","restProps","maxLengthCreator","maxLength"],"mappings":"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","file":"static/js/main.2c18da34.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"form_control\":\"input_form_control__1aO2X\",\"error\":\"input_error__3fbjt\",\"formErrorSummary\":\"input_formErrorSummary__qpATL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__1GNES\",\"pageNumber\":\"Paginator_pageNumber__6jddN\",\"selectedPage\":\"Paginator_selectedPage__3eRQx\"};","import axios from 'axios';\r\n\r\n\r\nexport const instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: { \"API-KEY\": \"eccf5e5a-9c5a-4d8d-b71d-977792b662a6\" }\r\n});\r\n\r\n\r\nexport type ResponseType<D = {}, RC = ResultCodeEnam> = {\r\n    data: D\r\n    messages: Array<string>\r\n    resultCode: RC\r\n}\r\n\r\nexport enum ResultCodeEnam {\r\n    Succes = 0,\r\n    Error = 1\r\n}\r\n\r\nexport enum ResultCodeForCaptcha {\r\n    CaptchaIsRequired = 10,\r\n}\r\n\r\n","import { PhotosType, ProfileType } from '../types/types';\r\nimport { instance, ResponseType } from './api';\r\ntype SavePhoto = {\r\n    photos: PhotosType\r\n}\r\nexport const profileAPI = {\r\n    getProfile(userId: number | null) {\r\n        return instance.get<ProfileType>(`profile/` + userId)\r\n            .then(response => response.data)\r\n    },\r\n\r\n    getStatus(userId: number) {\r\n        return instance.get<string>(`profile/status/` + userId)\r\n            .then(response => response.data)\r\n    },\r\n\r\n    updateStatus(status: string) {\r\n        return instance.put<ResponseType>(`profile/status`, { status })\r\n            .then(response => response.data)\r\n    },\r\n\r\n    savePhoto(photoFile: any) {\r\n        const formData = new FormData();\r\n        formData.append('image', photoFile);\r\n        return instance.put<ResponseType<SavePhoto>>(`profile/photo`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        }).then(response => response.data)\r\n    },\r\n\r\n    saveProfile(profile: ProfileType) {\r\n        return instance.put<ResponseType>(`profile/`, profile)\r\n            .then(response => response.data)\r\n    }\r\n\r\n}\r\n","import { ResultCodeEnam } from '../api/api';\r\nimport { profileAPI } from '../api/profile-api';\r\nimport { FormAction, stopSubmit } from 'redux-form';\r\nimport { PhotosType, PostDataType, ProfileType } from '../types/types';\r\nimport { BaseThunkType, InferActionsTypes } from './redux-store';\r\n\r\nlet initialState = {\r\n    postData: [\r\n        { id: 1, message: 'how are you', like: 3 },\r\n        { id: 2, message: 'Wie geht es dir', like: 12 },\r\n        { id: 3, message: 'Yoooooo', like: 10 }\r\n    ] as Array<PostDataType>,\r\n    status: '',\r\n    profile: null as ProfileType | null,\r\n    newPostBody: ''\r\n};\r\n\r\nlet profileReducer = (state: InitialStateType = initialState, action: ActionsTypes): InitialStateType => {\r\n    switch (action.type) {\r\n        case 'SN/profile/ADD_POST':\r\n            return {\r\n                ...state,\r\n                postData: [...state.postData, {\r\n                    id: 5,\r\n                    message: action.newPostBody,\r\n                    like: 0,\r\n                }],\r\n            }\r\n\r\n        case 'SN/profile/SET_USERS_PROFILE':\r\n            return { ...state, profile: action.profile }\r\n\r\n        case 'SN/profile/SET_STATUS':\r\n            return { ...state, status: action.status }\r\n\r\n        case 'SN/profile/DELETE_POST':\r\n            return { ...state, postData: state.postData.filter(p => p.id != action.postId) }\r\n        case 'SN/profile/SET_PHOTO_SUCCESS':\r\n            return { ...state, profile: { ...state.profile, photos: action.photos } as ProfileType }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n\r\nexport const actions = {\r\n    addPostActionCreator: (newPostBody: string) => ({ type: 'SN/profile/ADD_POST', newPostBody }) as const,\r\n\r\n    setUserProfile: (profile: ProfileType) => ({ type: 'SN/profile/SET_USERS_PROFILE', profile }) as const,\r\n\r\n    setUserStatus: (status: string) => ({ type: 'SN/profile/SET_STATUS', status }) as const,\r\n\r\n    setPhotoSuccess: (photos: PhotosType) => ({ type: 'SN/profile/SET_PHOTO_SUCCESS', photos }) as const,\r\n\r\n    deletePost: (postId: number) => ({ type: 'SN/profile/DELETE_POST', postId }) as const\r\n}\r\n\r\nexport const getUserProfile = (userId: number | null): ThunkType => async (dispatch) => {\r\n    const data = await profileAPI.getProfile(userId);\r\n    dispatch(actions.setUserProfile(data));\r\n};\r\n\r\nexport const getUserStatus = (userId: number): ThunkType => async (dispatch) => {\r\n    const data = await profileAPI.getStatus(userId)\r\n    dispatch(actions.setUserStatus(data));\r\n};\r\n\r\nexport const updateStatus = (status: string): ThunkType => async (dispatch) => {\r\n    const response = await profileAPI.updateStatus(status)\r\n    if (response.resultCode === ResultCodeEnam.Succes) {\r\n        dispatch(actions.setUserStatus(status));\r\n    }\r\n};\r\n\r\nexport const savePhoto = (photoFile: File): ThunkType => async (dispatch) => {\r\n    const response = await profileAPI.savePhoto(photoFile)\r\n    if (response.resultCode === ResultCodeEnam.Succes) {\r\n        dispatch(actions.setPhotoSuccess(response.data.photos));\r\n    }\r\n};\r\n\r\nexport const saveProfile = (profile: ProfileType): ThunkType => async (dispatch, getState) => {\r\n    const userId = getState().auth.userId;\r\n    const response = await profileAPI.saveProfile(profile);\r\n\r\n    if (response.resultCode === ResultCodeEnam.Succes) {\r\n        dispatch(getUserProfile(userId));\r\n    } else {\r\n        dispatch(stopSubmit('edit-profile', { _error: response.messages[0] }));\r\n        return Promise.reject(response.messages[0])\r\n    }\r\n};\r\n\r\nexport type InitialStateType = typeof initialState;\r\ntype ActionsTypes = InferActionsTypes<typeof actions>\r\ntype ThunkType = BaseThunkType<ActionsTypes | FormAction>\r\n\r\nexport default profileReducer;","export default \"data:image/png;base64,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\"","import { InferActionsTypes } from \"./redux-store\";\r\n\r\nconst SEND_MESSAGE = 'SEND_MESSAGE';\r\n\r\ntype DialogsType = {\r\n    id: number\r\n    name: string\r\n    ava: string\r\n}\r\n\r\ntype MessagesType = {\r\n    id: number\r\n    messages: string\r\n}\r\n\r\nlet initialState = {\r\n    dialogsData: [\r\n        { id: 1, name: 'Inna', ava: \"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcRKD17RdQJlmy3HC_xwalAsXG5kntjZ6odskQ&usqp=CAU\" },\r\n        { id: 2, name: 'Kostya', ava: \"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcR99VPaQ2koX9Pb5PQOL3gR4d__muqqWQdp_A&usqp=CAU\" },\r\n        { id: 3, name: 'nika', ava: 'https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcRRlcqpJ_XUN83eoYMEXHFB54R3XUcMQURbYg&usqp=CAU' },\r\n        { id: 4, name: 'Alex', ava: 'https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcTEuQKXQsRaGiiPYcspDFiz5IvOZh_HtY8T0g&usqp=CAU' },\r\n        { id: 5, name: 'Kristina', ava: 'https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcRP9FHzU7lQsg1bBQDEPWdpAATTFqpCz3K0MA&usqp=CAU>' },\r\n        { id: 6, name: 'Anetta', ava: 'https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcTjNOi7cKFqfhNojxm2rEEogwmJkDk_6GsZYA&usqp=CAU>' }\r\n    ] as Array<DialogsType>,\r\n\r\n    messagesData: [\r\n        { id: 1, messages: 'Ich bin so begeistert' },\r\n        { id: 2, messages: 'Guten Abend' },\r\n        { id: 3, messages: 'Kann ich mit dir sprechen?' },\r\n    ] as Array<MessagesType>,\r\n}\r\n\r\nexport let dialogsReducer = (state: InitialStateType = initialState, action: ActionsTypes): InitialStateType => {\r\n\r\n    switch (action.type) {\r\n        case 'SN/dialogs/SEND_MESSAGE':\r\n            let newMessageText = action.newMessageText;\r\n            return {\r\n                ...state,\r\n                messagesData: [...state.messagesData, {\r\n                    id: 7,\r\n                    messages: newMessageText\r\n                }],\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\n\r\nexport const actions = {\r\n    sendMessageCreator: (newMessageText: string) => ({ type: 'SN/dialogs/SEND_MESSAGE', newMessageText }) as const\r\n}\r\n\r\nexport type InitialStateType = typeof initialState;\r\ntype ActionsTypes = InferActionsTypes<typeof actions>\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Preloader_wrapper__oI-ml\"};","import { instance, ResponseType, ResultCodeForCaptcha, ResultCodeEnam } from './api';\r\n\r\n\r\ntype MeResponseType = {\r\n    id: number, email: string, login: string\r\n}\r\ntype LoginResponseType = {\r\n    userId: number\r\n}\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get<ResponseType<MeResponseType>>('auth/me')\r\n            .then(response => response.data)\r\n    },\r\n    login(email: string, password: string, rememberMe: boolean = false, captcha: string | null = null) {\r\n        return instance.post<ResponseType<LoginResponseType, ResultCodeForCaptcha | ResultCodeEnam>>('auth/login', { email, password, rememberMe, captcha })\r\n            .then(response => response.data)\r\n    },\r\n    logout() {\r\n        return instance.delete<ResponseType>('auth/login')\r\n            .then(response => response.data)\r\n    },\r\n}\r\n","import axios from 'axios';\r\nimport { PhotosType, ProfileType, UsersType } from '../types/types';\r\nimport { instance } from './api';\r\n\r\n\r\n\r\ntype getCaptchaUrlResponse = {\r\n    url: string\r\n}\r\nexport const securityAPI = {\r\n    getCaptchaUrl() {\r\n        return instance.get<getCaptchaUrlResponse>('security/get-captcha-url')\r\n    }\r\n}","import { ResultCodeEnam, ResultCodeForCaptcha } from '../api/api';\r\nimport { authAPI } from '../api/auth-api'\r\nimport { securityAPI } from '../api/security-api';\r\nimport { FormAction, stopSubmit } from 'redux-form';\r\nimport { BaseThunkType, InferActionsTypes } from './redux-store';\r\n\r\nlet initialState = {\r\n    userId: null as null | number,\r\n    email: null as null | string,\r\n    login: null as null | string,\r\n    isAuth: false as boolean,\r\n    captchaUrl: null as null | string\r\n}\r\n\r\nlet authReducer = (state: InitialStateType = initialState, action: ActionsTypes): InitialStateType => {\r\n    switch (action.type) {\r\n        case 'SN/auth/SET_USERS_DATA':\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n            }\r\n        case 'SN/auth/GET_CAPTCHA_URL_SUCCESS':\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const actions = {\r\n    setAuthUsersData: (userId: number | null, email: string | null, login: string | null, isAuth: boolean) => ({\r\n        type: 'SN/auth/SET_USERS_DATA', payload: { userId, email, login, isAuth }\r\n    }) as const,\r\n    getCaptchaUrlSuccess: (captchaUrl: string) => ({\r\n        type: 'SN/auth/GET_CAPTCHA_URL_SUCCESS', payload: { captchaUrl }\r\n    }) as const\r\n}\r\n\r\nexport const getAuthUsersData = (): ThunkType => async (dispatch) => {\r\n    const data = await authAPI.me()\r\n    if (data.resultCode === ResultCodeEnam.Succes) {\r\n        let { id, email, login } = data.data;\r\n        dispatch(actions.setAuthUsersData(id, email, login, true));\r\n    }\r\n};\r\n\r\n\r\nexport const login = (email: string, password: string, rememberMe: boolean, captcha: string | null): ThunkType => async (dispatch) => {\r\n    const data = await authAPI.login(email, password, rememberMe, captcha)\r\n    if (data.resultCode === ResultCodeEnam.Succes) {\r\n        dispatch(getAuthUsersData());\r\n    } else {\r\n        if (data.resultCode === ResultCodeForCaptcha.CaptchaIsRequired) {\r\n            dispatch(getCaptcha());\r\n        }\r\n\r\n        let message = data.messages.length > 0 ? data.messages[0] : 'Some Error'\r\n        dispatch(stopSubmit('login', { _error: message }));\r\n    }\r\n};\r\n\r\nexport const getCaptcha = (): ThunkType => async (dispatch) => {\r\n    const response = await securityAPI.getCaptchaUrl()\r\n    const captchaUrl = response.data.url\r\n    dispatch(actions.getCaptchaUrlSuccess(captchaUrl));\r\n\r\n};\r\n\r\nexport const logout = (): ThunkType => async (dispatch) => {\r\n    const data = await authAPI.logout()\r\n    if (data.resultCode === ResultCodeEnam.Succes) {\r\n        dispatch(actions.setAuthUsersData(null, null, null, false));\r\n    }\r\n};\r\n\r\nexport type InitialStateType = typeof initialState;\r\ntype ActionsTypes = InferActionsTypes<typeof actions>;\r\ntype ThunkType = BaseThunkType<ActionsTypes | FormAction>\r\n\r\nexport default authReducer;","import { ThunkAction } from 'redux-thunk';\r\nimport { getAuthUsersData } from './auth_reducer';\r\nimport { AppStateType } from './redux-store';\r\n\r\nlet INITIALISED_SUCCESS = 'INITIALISED_SUCCESS';\r\n\r\nexport type InitialStateType = {\r\n    initialized: boolean\r\n}\r\n\r\nlet initialState: InitialStateType = {\r\n    initialized: false\r\n}\r\n\r\nlet appReducer = (state: InitialStateType = initialState, action: InitializedSuccessActionType): InitialStateType => {\r\n    switch (action.type) {\r\n        case INITIALISED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\ntype InitializedSuccessActionType = {\r\n    type: typeof INITIALISED_SUCCESS\r\n}\r\n\r\nexport let initializedSuccess = (): InitializedSuccessActionType => ({ type: INITIALISED_SUCCESS });\r\n\r\ntype ThunkType = ThunkAction<Promise<void>, AppStateType, unknown, InitializedSuccessActionType>\r\nexport const initializeApp = (): ThunkType => async (dispatch: any) => {\r\n    let promise = dispatch(getAuthUsersData());\r\n    await Promise.all([promise])\r\n    dispatch(initializedSuccess());\r\n}\r\n\r\nexport default appReducer;","import React from 'react';\r\n\r\nimport cl from './Music.module.css';\r\n\r\nconst Music = () => {\r\n    return (\r\n        <div>\r\n            Music\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Music;","import React from 'react';\r\n\r\nimport cl from './News.module.css';\r\n\r\nconst News = () => {\r\n    return (\r\n        <div>\r\n            News\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default News;","import React from 'react';\r\n\r\nimport cl from './Settings.module.css';\r\n\r\nconst Settings = () => {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Settings;","import React, { useState } from 'react';\r\nimport cn from 'classnames'\r\nimport cl from './Paginator.module.css'\r\n\r\ntype PropsType = {\r\n    totalUsersCount: number\r\n    pageSise: number\r\n    currentPage: number\r\n    onPageChanged: (pageNumber: number) => void\r\n    portionsSise?: number\r\n}\r\n\r\nconst Paginator: React.FC<PropsType> = ({ totalUsersCount, pageSise, currentPage, onPageChanged, portionsSise = 10, }) => {\r\n\r\n    let pagesCount = Math.ceil(totalUsersCount / pageSise);\r\n\r\n    let pages: Array<number> = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n\r\n    let portionsCount = Math.ceil(pagesCount / portionsSise);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionNumber = (portionNumber - 1) * portionsSise + 1;\r\n    let rightPortionNumber = portionNumber * portionsSise;\r\n\r\n    return <div className={cl.paginator}>\r\n        {portionNumber > 1 &&\r\n            <button onClick={() => { setPortionNumber(portionNumber - 1) }}> PREV </button>}\r\n        {\r\n            pages.filter(p => p >= leftPortionNumber && p <= rightPortionNumber).map(p => {\r\n                return <span className={\r\n                    cn({\r\n                        [cl.selectedPage]: currentPage === p\r\n                    }, cl.pageNumber)\r\n                }\r\n                    key={p}\r\n                    onClick={(e) => { onPageChanged(p) }\r\n                    }> {p} </span>\r\n            })\r\n        }\r\n        {\r\n            portionsCount > portionNumber &&\r\n            <button onClick={() => { setPortionNumber(portionNumber + 1) }}> NEXT </button>\r\n        }\r\n    </div>\r\n}\r\n\r\n\r\n\r\nexport default Paginator;","import React from 'react';\r\nimport { UsersType } from '../../types/types';\r\nimport cl from './Users.module.css';\r\nimport userPfoto from '../../assets/images/user.png'\r\nimport { NavLink } from 'react-router-dom';\r\n\r\n\r\ntype PropsType = {\r\n    user: UsersType\r\n    followingInProgress: Array<number>\r\n    unfollowUser: (userId: number) => void\r\n    followUser: (userId: number) => void\r\n}\r\n\r\nconst User: React.FC<PropsType> = ({ user, followingInProgress, unfollowUser, followUser, }) => {\r\n\r\n    return (\r\n        <div className={cl.wrapper}>\r\n            <div className={cl.avaFollow}>\r\n                <NavLink to={'/profile/' + user.id}>\r\n                    <img src={user.photos.small != null ? user.photos.small : userPfoto} alt='userPhoto' />\r\n                </NavLink>\r\n                {user.followed\r\n                    ? <button disabled={followingInProgress.some(id => id === user.id)}\r\n                        className={cl.btn} onClick={() => { unfollowUser(user.id) }}>Unfollow</button>\r\n                    : <button disabled={followingInProgress.some(id => id === user.id)}\r\n                        className={cl.btn} onClick={() => { followUser(user.id) }}>Follow</button>\r\n                }\r\n            </div>\r\n            <div className={cl.content}>\r\n                <div className={cl.nameStatus}>\r\n                    <div className={cl.name}>{user.name}</div>\r\n                    <div className={cl.status}>{user.status}</div>\r\n                </div>\r\n                <div className={cl.location}>\r\n                    <div className={cl.city}>{'us.location.city'}</div>\r\n                    <div className={cl.country}>{'us.location.country'}</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\nexport default User;","import React from 'react';\r\nimport { Formik, Form, Field } from 'formik';\r\nimport { FilterType } from '../../Redux/users_reducer';\r\nimport { useSelector } from 'react-redux';\r\nimport { AppStateType } from '../../Redux/redux-store';\r\n\r\nconst UsersSearchFormValidates = (value: any) => {\r\n    const errors = {}\r\n    return errors\r\n}\r\n\r\ntype PropsType = {\r\n    onFilterChanged: (filter: FilterType) => void\r\n}\r\ntype FriendType = 'null' | 'true' | 'false'\r\n\r\ntype FormType = {\r\n    term: string\r\n    friend: FriendType\r\n}\r\nconst UsersSearchForm: React.FC<PropsType> = (props) => {\r\n    const submit = (values: FormType, { setSubmitting }: { setSubmitting: (isSubmitting: boolean) => void }) => {\r\n        const filter: FilterType = {\r\n            term: values.term,\r\n            friend: values.friend === 'null' ? null : values.friend === 'true' ? true : false\r\n        }\r\n        props.onFilterChanged(filter)\r\n        setSubmitting(false)\r\n    }\r\n\r\n    const filter = useSelector((state: AppStateType) => state.usersPage.filter)\r\n\r\n    return (<div>\r\n        <Formik\r\n            enableReinitialize\r\n            initialValues={{ term: filter.term, friend: String(filter.friend) as FriendType }}\r\n            validate={UsersSearchFormValidates}\r\n            onSubmit={submit}\r\n        >\r\n            {({ isSubmitting }) => (\r\n                <Form>\r\n                    <Field type=\"text\" name=\"term\" />\r\n                    <button type=\"submit\" disabled={isSubmitting}>\r\n                        Find\r\n          </button>\r\n                    <Field name=\"friend\" as=\"select\">\r\n                        <option value=\"nulld\">All</option>\r\n                        <option value=\"true\">Only followed</option>\r\n                        <option value=\"false\">Unfollowed</option>\r\n                    </Field>\r\n                </Form>\r\n\r\n            )}\r\n        </Formik>\r\n    </div>\r\n    )\r\n};\r\n\r\nexport default UsersSearchForm;","import { UsersType } from '../types/types';\r\nimport { instance, ResponseType } from './api';\r\n\r\ntype GetUsersResponse = {\r\n    items: Array<UsersType>\r\n    totalCount: number\r\n    error: string | null\r\n}\r\n\r\nexport const userAPI = {\r\n    getUsers(currentPage: number = 1, pageSise: number = 10, term: string = '', friend: null | boolean = null) {\r\n        return instance.get<GetUsersResponse>(`users?page=${currentPage}&count=${pageSise}&term=${term}` + (friend === null ? '' : `&friend=${friend}`))\r\n            .then(response => response.data)\r\n    },\r\n\r\n    follow(usId: number) {\r\n        return instance.post<ResponseType>(`follow/${usId}`)\r\n    },\r\n\r\n    unfollow(usId: number) {\r\n        return instance.delete<ResponseType>(`follow/${usId}`).then(response => response.data) as Promise<ResponseType>\r\n    }\r\n}\r\n\r\n","import { userAPI } from '../api/users-api';\r\nimport { ResultCodeEnam } from '../api/api';\r\nimport { UsersType } from '../types/types';\r\nimport { InferActionsTypes, BaseThunkType } from './redux-store';\r\n\r\nlet initialState = {\r\n    users: [] as Array<UsersType>,\r\n    pageSise: 8 as number,\r\n    totalUsersCount: 0 as number,\r\n    currentPage: 1 as number,\r\n    isFetching: false as boolean,\r\n    followingInProgress: [] as Array<number>, //array of usersId,\r\n    filter: {\r\n        term: '',\r\n        friend: null as null | boolean\r\n    }\r\n}\r\n\r\n\r\nlet usersReducer = (state: InitialStateType = initialState, action: ActionsTypes): InitialStateType => {\r\n    switch (action.type) {\r\n        case 'SN/users/FOLLOW':\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        return { ...u, followed: true }\r\n                    }\r\n                    return u;\r\n                }),\r\n            }\r\n\r\n        case 'SN/users/UNFOLLOW':\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        return { ...u, followed: false }\r\n                    }\r\n                    return u;\r\n                }),\r\n            }\r\n        case 'SN/users/SET_USERS':\r\n            return { ...state, users: action.users }\r\n\r\n        case 'SN/users/SET_CURRENT_PAGE':\r\n            return {\r\n                ...state, currentPage: action.currentPage\r\n            }\r\n        case 'SN/users/SET_TOTAL_USERS_COUNT':\r\n            return {\r\n                ...state, totalUsersCount: action.totalUsersCount\r\n            }\r\n        case 'SN/users/TOGGLE_IS_FETCHING':\r\n            return {\r\n                ...state, isFetching: action.isFetching\r\n            }\r\n        case 'SN/users/TOGGLE_IS_FOLLOWING_PROGRESS':\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id != action.userId)\r\n            }\r\n        case 'SN/users/SET_FILTER':\r\n            return { ...state, filter: action.filter }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const actions = {\r\n    follow: (userId: number) => ({ type: 'SN/users/FOLLOW', userId } as const),\r\n    unfollow: (userId: number) => ({ type: 'SN/users/UNFOLLOW', userId } as const),\r\n    setUsers: (users: Array<UsersType>) => ({ type: 'SN/users/SET_USERS', users } as const),\r\n    setCurrentPage: (currentPage: number) => ({ type: 'SN/users/SET_CURRENT_PAGE', currentPage } as const),\r\n    setFilter: (filter: FilterType) => ({ type: 'SN/users/SET_FILTER', filter } as const),\r\n    setUsersTotalCount: (totalUsersCount: number) => ({ type: 'SN/users/SET_TOTAL_USERS_COUNT', totalUsersCount } as const),\r\n    toggleIsFetching: (isFetching: boolean) => ({ type: 'SN/users/TOGGLE_IS_FETCHING', isFetching } as const),\r\n    toggleIsFollowingProgress: (isFetching: boolean, userId: number) => ({ type: 'SN/users/TOGGLE_IS_FOLLOWING_PROGRESS', isFetching, userId } as const)\r\n}\r\n\r\nexport const getAllUsers = (currentPage: number, pageSise: number, filter: FilterType): ThunkType => {\r\n    return async (dispatch) => {\r\n        dispatch(actions.toggleIsFetching(true));\r\n        dispatch(actions.setCurrentPage(currentPage));\r\n        dispatch(actions.setFilter(filter));\r\n\r\n        let data = await userAPI.getUsers(currentPage, pageSise, filter.term, filter.friend)\r\n        dispatch(actions.toggleIsFetching(false));\r\n        dispatch(actions.setUsers(data.items));\r\n        dispatch(actions.setUsersTotalCount(data.totalCount));\r\n    }\r\n}\r\n\r\nexport const followUser = (userId: number): ThunkType => async (dispatch) => {\r\n    dispatch(actions.toggleIsFollowingProgress(true, userId))\r\n    let response = await userAPI.follow(userId)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(actions.follow(userId));\r\n    }\r\n    dispatch(actions.toggleIsFollowingProgress(false, userId))\r\n}\r\n\r\nexport const unfollowUser = (userId: number): ThunkType => async (dispatch) => {\r\n    dispatch(actions.toggleIsFollowingProgress(true, userId))\r\n    let data = await userAPI.unfollow(userId)\r\n    if (data.resultCode === ResultCodeEnam.Succes) {\r\n        dispatch(actions.unfollow(userId));\r\n    }\r\n    dispatch(actions.toggleIsFollowingProgress(false, userId))\r\n}\r\n\r\nexport type InitialStateType = typeof initialState;\r\nexport type FilterType = typeof initialState.filter;\r\ntype ActionsTypes = InferActionsTypes<typeof actions>\r\ntype ThunkType = BaseThunkType<ActionsTypes>\r\n\r\n\r\nexport default usersReducer;","import { createSelector } from \"reselect\";\r\nimport { AppStateType } from \"./redux-store\";\r\n\r\n\r\nexport const getUsersSelector = (state: AppStateType) => {\r\n    return state.usersPage.users;\r\n}\r\n\r\nexport const getUsers = createSelector(getUsersSelector,\r\n    (users) => {\r\n        return users.filter(u => true);\r\n    })\r\n\r\nexport const getPageSize = (state: AppStateType) => {\r\n    return state.usersPage.pageSise;\r\n}\r\n\r\nexport const gettotalUsersCount = (state: AppStateType) => {\r\n    return state.usersPage.totalUsersCount;\r\n}\r\n\r\nexport const getCurrentPage = (state: AppStateType) => {\r\n    return state.usersPage.currentPage;\r\n}\r\n\r\nexport const getIsFetching = (state: AppStateType) => {\r\n    return state.usersPage.isFetching;\r\n}\r\n\r\nexport const getFollowingInProgress = (state: AppStateType) => {\r\n    return state.usersPage.followingInProgress;\r\n}\r\nexport const getUsersFilter = (state: AppStateType) => {\r\n    return state.usersPage.filter;\r\n}","import React, { FC, useEffect } from 'react';\r\nimport cl from './Users.module.css';\r\nimport { FilterType } from '../../Redux/users_reducer';\r\nimport Paginator from './Paginator';\r\nimport User from './User';\r\nimport UsersSearchForm from './UsersSearchForm';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getAllUsers, followUser, unfollowUser } from '../../Redux/users_reducer';\r\nimport { useHistory } from 'react-router-dom'\r\nimport * as queryString from 'querystring'\r\nimport { getUsersSelector, getCurrentPage, getPageSize, gettotalUsersCount, getFollowingInProgress, getUsersFilter } from './../../Redux/users-selectors';\r\n\r\ntype PropsType = {}\r\ntype QueryParamsType = { term?: string; page?: string; friend?: string }\r\n\r\nexport const Users: FC<PropsType> = React.memo(() => {\r\n    const totalUsersCount = useSelector(gettotalUsersCount)\r\n    const pageSise = useSelector(getPageSize)\r\n    const currentPage = useSelector(getCurrentPage)\r\n    const users = useSelector(getUsersSelector)\r\n    const followingInProgress = useSelector(getFollowingInProgress)\r\n    const filter = useSelector(getUsersFilter)\r\n    const history = useHistory()\r\n    const dispatch = useDispatch()\r\n\r\n    useEffect(() => {\r\n        const parsed = queryString.parse(history.location.search.substr(1)) as QueryParamsType;\r\n        let actualPage = currentPage\r\n        let actualFilter = filter\r\n\r\n        if (!!parsed.page) actualPage = Number(parsed.page)\r\n\r\n        if (!!parsed.term) actualFilter = { ...actualFilter, term: parsed.term as string }\r\n\r\n        switch (parsed.friend) {\r\n            case \"null\":\r\n                actualFilter = { ...actualFilter, friend: null }\r\n                break;\r\n            case \"true\":\r\n                actualFilter = { ...actualFilter, friend: true }\r\n                break;\r\n            case \"false\":\r\n                actualFilter = { ...actualFilter, friend: false }\r\n                break;\r\n        }\r\n\r\n        dispatch(getAllUsers(actualPage, pageSise, actualFilter));\r\n    }, [])\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        const query: QueryParamsType = {}\r\n\r\n        if (!!filter.term) query.term = filter.term\r\n        if (filter.friend !== null) query.friend = String(filter.friend)\r\n        if (currentPage !== 1) query.page = String(currentPage)\r\n\r\n        history.push({\r\n            pathname: '/users',\r\n            search: queryString.stringify(query)\r\n        }\r\n        )\r\n    }, [filter, currentPage])\r\n\r\n\r\n    const onPageChanged = (currentPage: number) => {\r\n        dispatch(getAllUsers(currentPage, pageSise, filter));\r\n    }\r\n\r\n    const onFilterChanged = (filter: FilterType) => {\r\n        dispatch(getAllUsers(1, pageSise, filter))\r\n    }\r\n\r\n    const followUsers = (userId: number) => {\r\n        dispatch(followUser(userId))\r\n    }\r\n\r\n    const unfollowUsers = (userId: number) => {\r\n        dispatch(unfollowUser(userId))\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Paginator currentPage={currentPage} onPageChanged={onPageChanged}\r\n                totalUsersCount={totalUsersCount} pageSise={pageSise} />\r\n            <UsersSearchForm onFilterChanged={onFilterChanged} />\r\n            {users.map(us => <User user={us}\r\n                key={us.id}\r\n                followingInProgress={followingInProgress}\r\n                unfollowUser={unfollowUsers}\r\n                followUser={followUsers} />\r\n            )\r\n            }\r\n        </div >\r\n\r\n    )\r\n})\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Users } from './Users';\r\nimport Preloader from '../../common/Preloader/Preloader';\r\nimport { AppStateType } from '../../Redux/redux-store';\r\n\r\n\r\nexport const UsersPage: React.FC = (props) => {\r\n    const isFetching = useSelector((state: AppStateType) => state.usersPage.isFetching)\r\n    return (<>\r\n        {isFetching ? <Preloader /> : null}\r\n        <Users />\r\n    </>)\r\n\r\n}\r\n\r\n","\r\nimport { AppStateType } from \"./redux-store\";\r\n\r\n\r\nexport const selectIsAuth = (state: AppStateType) => {\r\n    return state.auth.isAuth;\r\n}\r\n\r\nexport const selectLogin = (state: AppStateType) => {\r\n    return state.auth.login;\r\n}\r\n\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport cl from './Header.module.css';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { selectIsAuth, selectLogin } from './../../Redux/auth-selectors';\r\nimport { logout } from '../../Redux/auth_reducer'\r\nimport { Layout, Menu, Button, Row, Col, Avatar } from 'antd';\r\nimport { UserOutlined } from '@ant-design/icons';\r\n\r\nexport const Header: React.FC = (props) => {\r\n\r\n    const { Header } = Layout;\r\n    const isAuth = useSelector(selectIsAuth);\r\n    const login = useSelector(selectLogin);\r\n    const dispatch = useDispatch();\r\n\r\n    const logoutCallBack = () => {\r\n        dispatch(logout())\r\n    };\r\n    return (\r\n\r\n        <Header className=\"header\">\r\n            <div className=\"logo\" />\r\n            <Row>\r\n                <Col span={18}> <Menu theme=\"dark\" mode=\"horizontal\" defaultSelectedKeys={['1']}>\r\n                    <Menu.Item key=\"1\">\r\n                        <Link to='/users'>Users</Link>\r\n                    </Menu.Item>\r\n                </Menu></Col>\r\n                {isAuth\r\n                    ? <><Col span={1}>\r\n                        <Avatar alt={login || ''} style={{ backgroundColor: '#87d068' }} icon={<UserOutlined />} />\r\n                    </Col>\r\n                        <Col span={5}><Button onClick={logoutCallBack}>Log out</Button></Col>\r\n                    </>\r\n                    : <Col span={6}>\r\n                        <Button>\r\n                            <Link to={'/login'}>\r\n                                Login\r\n                </Link></Button></Col>}\r\n            </Row>\r\n\r\n        </Header>\r\n        // <div className={cl.header}>\r\n        //\r\n        //     <div className={cl.loginBlock}>\r\n        //         {isAuth\r\n        //             ? <div> {login} - <button onClick={logoutCallBack}>Log out</button></div>\r\n        //             : <NavLink to={'/login'}>\r\n        //                 Login\r\n        //         </NavLink>}\r\n        //     </div>\r\n        // </div>\r\n    );\r\n}\r\n\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Field, InjectedFormProps, reduxForm, WrappedFieldProps } from 'redux-form';\r\nimport { Input, FormControlType } from '../../Forms/Input';\r\nimport { FieldValidatorsType, required } from '../../Utils/validators';\r\nimport { login } from '../../Redux/auth_reducer';\r\nimport { Redirect } from 'react-router-dom';\r\nimport cl from '../../Forms/input.module.css';\r\nimport { AppStateType } from '../../Redux/redux-store';\r\n\r\ntype LoginFormOwnProps = {\r\n    captchaUrl: string | null\r\n}\r\n// type FieldType = {\r\n//     placeholder: string | null\r\n//     name: LoginFormValuesKeysType\r\n//     component: React.FC<WrappedFieldProps & FormControlType>\r\n//     validate: Array<FieldValidatorsType>\r\n// }\r\nconst LoginForm: React.FC<InjectedFormProps<LoginFormValuesType, LoginFormOwnProps> & LoginFormOwnProps> = ({ handleSubmit, error, captchaUrl }) => {\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit} >\r\n            <div>\r\n                <Field placeholder={'email'} name={'email'} component={Input}\r\n                    validate={[required]} />\r\n            </div>\r\n            < div >\r\n                <Field placeholder={'password'} name={'password'} component={Input} type='password'\r\n                    validate={[required]} />\r\n            </div>\r\n            < div >\r\n                <Field type={'checkbox'} component={Input} name={'rememberMe'}\r\n                    validate={[required]} /> remember me\r\n        </div>\r\n            < div >\r\n                {captchaUrl && <img src={captchaUrl} alt='captcha' />}\r\n                {\r\n                    captchaUrl && <Field name={'captcha'} component={Input}\r\n                        validate={[required]} />}\r\n                {error && <div className={cl.formErrorSummary}>\r\n                    {error}\r\n                </div>\r\n                }\r\n                <button>Login</button>\r\n            </div>\r\n\r\n        </form>\r\n    )\r\n}\r\n\r\n\r\nconst LoginReduxForm = reduxForm<LoginFormValuesType, LoginFormOwnProps>({ form: 'login' })(LoginForm)\r\n\r\ntype MapStateToPropsType = {\r\n    isAuth: boolean\r\n    captchaUrl: string | null\r\n}\r\n\r\ntype MapDispatchToPropsType = {\r\n    login: (email: string, password: string, rememberMe: boolean, captcha: string | null) => void\r\n}\r\n\r\ntype LoginFormValuesType = {\r\n    email: string\r\n    password: string\r\n    rememberMe: boolean\r\n    captcha: string | null\r\n}\r\ntype LoginFormValuesKeysType = Extract<keyof LoginFormValuesType, string>\r\n\r\n\r\nconst Login: React.FC<MapStateToPropsType & MapDispatchToPropsType> = (props) => {\r\n    const onSubmit = (formData: LoginFormValuesType) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe, formData.captcha)\r\n    }\r\n    if (props.isAuth) {\r\n        return <Redirect to={'/profile'} />\r\n    }\r\n    return (<div>\r\n        <h1>Login </h1>\r\n        < LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl} />\r\n    </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType): MapStateToPropsType => ({\r\n    isAuth: state.auth.isAuth,\r\n    captchaUrl: state.auth.captchaUrl\r\n});\r\nexport default connect(mapStateToProps, { login })(Login);","import React from 'react';\r\nimport Preloader from '../common/Preloader/Preloader';\r\n\r\nexport function withSuspense<WCP>(Component: React.ComponentType<WCP>) {\r\n    return (props: WCP) => {\r\n        return <React.Suspense fallback={<Preloader />}>\r\n            <Component {...props} />\r\n        </React.Suspense>\r\n    }\r\n\r\n}\r\n\r\nexport default withSuspense;","import React from 'react';\nimport { Redirect, Route, Switch, NavLink } from 'react-router-dom';\nimport { initializeApp } from './Redux/app_reducer'\nimport './App.css';\nimport Music from './components/Music/Music';\nimport Navbar from './components/Navbar/Navbar';\nimport News from './components/News/News';\nimport Settings from './components/Settings/Settings';\nimport { UsersPage } from './components/Users/UsersContainer';\nimport { Header } from './components/Header/Header';\nimport Login from './components/Login/Login';\nimport { connect } from 'react-redux';\nimport Preloader from './common/Preloader/Preloader';\nimport { AppStateType } from './Redux/redux-store';\nimport withSuspense from './hoc/withSuspense';\nimport 'antd/dist/antd.css';\nimport { Layout, Menu, Breadcrumb } from 'antd';\nimport { UserOutlined, LaptopOutlined, NotificationOutlined } from '@ant-design/icons';\n\n\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileCointainer'));\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\nconst ChatPage = React.lazy(() => import('./components/ChatPage/ChatPage'));\n\n\n\ntype MapPropsType = ReturnType<typeof mapStateToProps>\ntype DispatchPropsType = {\n  initializeApp: () => void\n}\n\nconst SuspendedDialogs = withSuspense(DialogsContainer);\nconst SuspendedProfile = withSuspense(ProfileContainer);\nconst SuspendedChatPage = withSuspense(ChatPage);\n\nclass App extends React.Component<MapPropsType & DispatchPropsType>{\n\n  componentDidMount() {\n    this.props.initializeApp();\n\n  }\n\n  render() {\n    const { SubMenu } = Menu;\n    const { Content, Sider } = Layout;\n\n    if (!this.props.initialized) {\n      return <Preloader />\n    }\n    return (\n      <Layout>\n        <Header />\n        <Layout>\n          <Sider width={200} className=\"site-layout-background\">\n            <Menu\n              mode=\"inline\"\n              defaultSelectedKeys={['1']}\n              defaultOpenKeys={['sub1']}\n              style={{ height: '100%', borderRight: 0 }}\n            >\n              {/* <div className={cl.nav_item}>\n                <NavLink to='/profile' activeClassName={cl.activeLink}>Profile</NavLink>\n            </div>\n            <div className={cl.nav_item}>\n                <NavLink to='/dialogs' activeClassName={cl.activeLink}>Messages</NavLink>\n            </div> */}\n              <SubMenu key=\"sub1\" icon={<UserOutlined />} title=\"My Profile\">\n                <Menu.Item key=\"1\"><NavLink to='/profile' >Profile</NavLink></Menu.Item>\n                <Menu.Item key=\"2\"><NavLink to='/dialogs'>Messages</NavLink></Menu.Item>\n                <Menu.Item key=\"3\"><NavLink to='/chatPage'>Chat</NavLink></Menu.Item>\n              </SubMenu>\n              {/* <SubMenu key=\"sub2\" icon={<LaptopOutlined />} title=\"Users\">\n                <Menu.Item key=\"5\">option5</Menu.Item>\n                <Menu.Item key=\"6\">option6</Menu.Item>\n                <Menu.Item key=\"7\">option7</Menu.Item>\n                <Menu.Item key=\"8\">option8</Menu.Item>\n              </SubMenu>\n              <SubMenu key=\"sub3\" icon={<NotificationOutlined />} title=\"subnav 3\">\n                <Menu.Item key=\"9\">option9</Menu.Item>\n                <Menu.Item key=\"10\">option10</Menu.Item>\n                <Menu.Item key=\"11\">option11</Menu.Item>\n                <Menu.Item key=\"12\">option12</Menu.Item>\n              </SubMenu> */}\n            </Menu>\n          </Sider>\n          <Layout style={{ padding: '0 24px 24px' }}>\n            <Breadcrumb style={{ margin: '16px 0' }}>\n              <Breadcrumb.Item>Home</Breadcrumb.Item>\n              <Breadcrumb.Item>List</Breadcrumb.Item>\n              <Breadcrumb.Item>App</Breadcrumb.Item>\n            </Breadcrumb>\n            <Content\n              className=\"site-layout-background\"\n              style={{\n                padding: 24,\n                margin: 0,\n                minHeight: 280,\n              }}>\n              <Switch>\n                <Route exact path='/'\n                  render={() => <Redirect to={'/profile'} />} />\n                <Route path='/dialogs' render={() => <SuspendedDialogs />} />\n                <Route path='/profile/:userId?' render={() => <SuspendedProfile />} />\n                <Route path='/news' render={() => <News />} />\n                <Route path='/musik' render={() => <Music />} />\n                <Route path='/settings' render={() => <Settings />} />\n                <Route path='/users' render={() => <UsersPage />} />\n                <Route path='/login' render={() => <Login />} />\n                <Route path='/chatPage' render={() => <SuspendedChatPage />} />\n                <Route path='*' render={() => <div>404 NOT FOUND</div>} />\n              </Switch>\n            </Content>\n          </Layout>\n        </Layout>\n      </Layout>\n\n\n\n      //  <div className='app-wrapper'>\n      //   <div className='header'>\n      //     <HeaderContainer />\n      //   </div>\n      //   <Navbar />\n      //   <div className='wrapper-content'>\n      //     <Switch>\n      //       <Route exact path='/'\n      //         render={() => <Redirect to={'/profile'} />} />\n      //       <Route path='/dialogs' render={() => <SuspendedDialogs />} />\n      //       <Route path='/profile/:userId?' render={() => <SuspendedProfile />} />\n      //       <Route path='/news' render={() => <News />} />\n      //       <Route path='/musik' render={() => <Music />} />\n      //       <Route path='/settings' render={() => <Settings />} />\n      //       <Route path='/users' render={() => <UsersPage />} />\n      //       <Route path='/login' render={() => <Login />} />\n      //       <Route path='*' render={() => <div>404 NOT FOUND</div>} />\n      //     </Switch>\n      //   </div>\n      // </div>\n    );\n  }\n\n}\n\nlet mapStateToProps = (state: AppStateType) => ({\n  initialized: state.app.initialized\n})\n\nexport default connect(mapStateToProps, { initializeApp })(App);","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","let initialState = {};\r\n\r\nexport type InitialStateType = typeof initialState\r\nlet sidebar = (state: InitialStateType = initialState, action: any): InitialStateType => {\r\n    return state;\r\n}\r\n\r\nexport default sidebar;","import { Action, applyMiddleware, combineReducers, compose, createStore } from \"redux\";\r\nimport { dialogsReducer } from './dialogs_reducer';\r\nimport profileReducer from \"./profile_reducer\";\r\nimport sidebar from './sidebar_reducer';\r\nimport usersReducer from './users_reducer';\r\nimport authReducer from './auth_reducer';\r\nimport appReducer from './app_reducer'\r\nimport thunkMiddleware, { ThunkAction } from 'redux-thunk';\r\nimport { reducer as formReducer } from 'redux-form'\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    messagesPage: dialogsReducer,\r\n    sidebar: sidebar,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n});\r\n\r\ntype ReducersType = typeof reducers;\r\nexport type AppStateType = ReturnType<ReducersType>;\r\n\r\nexport type InferActionsTypes<T> = T extends { [key: string]: (...arg: any[]) => infer U } ? U : never\r\n\r\nexport type BaseThunkType<A extends Action, R = Promise<void>> = ThunkAction<R, AppStateType, unknown, A>\r\n\r\n// @ts-ignore\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\n// @ts-ignore\r\nwindow.__store = store;\r\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport store from './Redux/redux-store';\nimport { Provider } from 'react-redux';\nimport { HashRouter } from 'react-router-dom';\n\nReactDOM.render(\n    <HashRouter>\n        <Provider store={store}>\n            <App />\n        </Provider>\n    </HashRouter>, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Users_wrapper__3mSY9\",\"avaFollow\":\"Users_avaFollow__28Pu6\",\"btn\":\"Users_btn__1vnLY\",\"content\":\"Users_content__3CzI7\",\"nameStatus\":\"Users_nameStatus__bu_3i\",\"location\":\"Users_location__2tAqd\",\"name\":\"Users_name__1m9I-\",\"status\":\"Users_status__2lPCF\",\"city\":\"Users_city__16Ul7\",\"country\":\"Users_country__1QfM1\",\"sekectedPage\":\"Users_sekectedPage__12Jn1\"};","export default __webpack_public_path__ + \"static/media/spinner.8dd760fd.svg\";","import React from 'react';\r\nimport spinner from '../../assets/images/spinner.svg'\r\nimport cl from './Preloader.module.css';\r\n\r\nlet Preloader = () => {\r\n    return (\r\n        <div>\r\n            <div className={cl.wrapper}>\r\n                <img src={spinner} />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Preloader;","import React from 'react';\r\nimport { WrappedFieldMetaProps, WrappedFieldProps } from 'redux-form';\r\nimport cl from './input.module.css'\r\n\r\n\r\nexport type FormControlType = {\r\n    input: WrappedFieldProps\r\n    meta: WrappedFieldMetaProps\r\n    child: React.ReactNode\r\n}\r\n\r\nexport const FormControl: React.FC<FormControlType> = ({ input, meta, child, ...props }) => {\r\n\r\n    const hasError = meta.touched && meta.error;\r\n    return (\r\n        <div className={cl.form_control + \" \" + (hasError ? cl.error : \"\")} >\r\n            <div>\r\n                {props.children}\r\n            </div>\r\n            {\r\n                hasError && <span>{meta.error} </span>}\r\n        </div>\r\n    )\r\n}\r\nexport const TextArea: React.FC<WrappedFieldProps & FormControlType> = (props) => {\r\n    const { input, meta, child, ...restProps } = props;\r\n    return (\r\n        <FormControl {...props} > <textarea {...input} {...restProps} /></FormControl >\r\n    )\r\n}\r\n\r\nexport const Input: React.FC<WrappedFieldProps & FormControlType> = (props) => {\r\n    const { input, meta, child, ...restProps } = props;\r\n    return (\r\n        <FormControl {...props} > <input {...input} {...restProps} /></FormControl >\r\n    )\r\n}","\r\nexport type FieldValidatorsType = (value: string) => string | undefined\r\n\r\nexport const required: FieldValidatorsType = (value) => {\r\n    if (value) return undefined;\r\n\r\n    return 'Field is required';\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength: number): FieldValidatorsType => (value) => {\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n    return undefined;\r\n\r\n};\r\n\r\n"],"sourceRoot":""}